<link rel="import" href="../bower_components/polymer/polymer.html">

<dom-module id="xl-competitions">
  <template>

    <style>
      :host {
        display: block
      }

      h1 {
        text-align: center;
      }

      .dept {
        box-sizing: border-box;
        background-color: white;
        /*border-radius: 3px;*/
        padding: 16px;
        /*margin: 1%;*/
        background-size: cover;
        box-shadow: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);
        transition: box-shadow 0.3s cubic-bezier(.25,.8,.25,1);
        font-size: 20px;
        z-index: 0;
      }

      .dept:hover {
        box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);
      }

      .cs {
        background-image: url('../images/departments/computer.svg');
        background-color: #fef177;
        /*color: #daca57;*/
      }
      .ec {
        background-image: url('../images/departments/electronics.svg');
        background-color: #88d3e1;
        /*color: #41aeb6;*/
      }
      .eee {
        background-image: url('../images/departments/electrical.svg');
        background-color: #81c784;
        /*color: #69a06a;*/
      }
      .robo {
        background-image: url('../images/departments/robotics.svg');
        background-color: #ab6bac; 
        /*color: #85548c;*/
      }
      .gt {
        background-image: url('../images/departments/general.svg');
        background-color: #f58967;
        /*color: #e27356;*/
      }
      .nontech {
        background-image: url('../images/departments/nontech.svg');
        background-color: #ef5350;
        /*color: #d34242;*/
      }



      .links {
        color: inherit;
        text-decoration: none;
        width: 48%;
        /*margin: 1%;*/
      }

      .links:hover {
        z-index: 10;
      }


      @media (max-width: 600px) {
        .links {
          width: 100%;
        }

        .dept {
          margin: 0;

        }
      }



      .container {
        width: 100%;
        max-width: 980px;
        margin: auto;
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
      }

    </style>




    <h1>Competitions</h1>

    <div class="container">


      <a href="" class="links">
        <div class="dept cs">
          Computer Science
        </div>  
      </a>
      <a href="" class="links">
        <div class="dept ec">
          Electronics
        </div>  
      </a>
      <a href="" class="links">
        <div class="dept eee">
          Electrical
        </div>  
      </a>
      <a href="" class="links">
        <div class="dept robo">
          Robotics
        </div>  
      </a>
      <a href="" class="links">
        <div class="dept gt">
          General Tech
        </div>  
      </a>
      <a href="" class="links">
        <div class="dept nontech">
          Non - Technical
        </div>  
      </a>



    </div>

  </template>

  <script>;

    Polymer({
      is: 'xl-competitions',
      ready : function () {

        var _self = this;
        window.addEventListener("resize", function() {
          _self.windowResize();
        });
      },

      attached : function () {
        var _self = this;
        setTimeout(function () { //This is just stupid. Must fix this.
          _self.windowResize();
        }, 500);
        setTimeout(function () { //This is just stupid. Must fix this.
          _self.windowResize();
        }, 1000);
        setTimeout(function () { //This is just stupid. Must fix this.
          _self.windowResize();
        }, 2000);
         
      },


      windowResize: function () {


        var departments = Array.from(this.shadowRoot.querySelectorAll('.dept'));
        var width = departments[0].getBoundingClientRect().width;

        departments.forEach( function(element, index) {
          element.style.height = width+"px";
        });
 
      }
    });
  </script>

</dom-module>