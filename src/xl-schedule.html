<link rel="import" href="../bower_components/polymer/polymer.html">

<dom-module id="xl-schedule">
  <template>

    <h1> Excel Schedule </h1>

    <template is="dom-repeat" items="{{schedule}}">
        <div># <span>{{index}}</span></div>
        <div>Event name: <span>{{item.name}}</span></div>
        <div>Date: <span>{{item.date}}</span></div>
    </template>


   
  </template>

  <script>
    Polymer({
      is: 'xl-schedule',
      ready: function() {
            _self = this;
            console.log("IMPORTING JSON");
            var oReq = new XMLHttpRequest();
            oReq.onload = reqListener;  //OR USE JQUERY IF ERROR!
            oReq.open("get", "../resources/schedule.json", true);
            oReq.send();
            function reqListener(e) {
              treeData = JSON.parse(this.responseText);
              console.log("Imported JSON SUCCESS, CONTENTS: ");
              console.log(treeData);
              populate(treeData);
            }
            function populate(treeData){
              _self.schedule = treeData;
            }
      }

    });
  </script>

</dom-module>